/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/main_screen/MainViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

MainViewBase::MainViewBase() :
    imageAnimatorImageIsOutCallback(this, &MainViewBase::imageAnimatorImageIsOutCallbackHandler)
{
    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    circleCenter.setPosition(30, 30, 180, 180);
    circleCenter.setColor(touchgfx::Color::getColorFromRGB(232, 244, 248));
    add(circleCenter);

    numberAnimator0.setXY(53, 34);
    add(numberAnimator0);

    numberAnimator1.setXY(120, 34);
    add(numberAnimator1);

    qrCodeAnimator.setXY(66, 51);
    add(qrCodeAnimator);

    imageAnimator.setXY(0, 0);
    imageAnimator.setImageIsOutCallback(imageAnimatorImageIsOutCallback);
    add(imageAnimator);

    circleAnimator.setXY(35, 35);
    add(circleAnimator);

    circleTop.setXY(53, 19);
    circleTop.setBitmap(touchgfx::Bitmap(BITMAP_CIRCLETOP_ID));
    add(circleTop);

    circleBottom.setXY(53, 174);
    circleBottom.setBitmap(touchgfx::Bitmap(BITMAP_CIRCLEBOTTOM_ID));
    add(circleBottom);

    circleLeft.setXY(0, 20);
    circleLeft.setBitmap(touchgfx::Bitmap(BITMAP_CIRCLELEFTFULL_ID));
    add(circleLeft);

    circleRight.setXY(187, 20);
    circleRight.setBitmap(touchgfx::Bitmap(BITMAP_CIRCLERIGHTFULL_ID));
    add(circleRight);

    backgroundTop.setXY(0, 0);
    backgroundTop.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUNDTOP_ID));
    add(backgroundTop);

    backgroundBottom.setXY(0, 220);
    backgroundBottom.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUNDBOTTOM_ID));
    add(backgroundBottom);

    selectText.setXY(10, 10);
    selectText.setBitmap(touchgfx::Bitmap(BITMAP_ENTER_TEXT_ID));
    add(selectText);

    nextIcon.setXY(210, 8);
    nextIcon.setBitmap(touchgfx::Bitmap(BITMAP_NEXT_ICON_ID));
    add(nextIcon);

    demoNameText.setXY(48, 222);
    demoNameText.setBitmap(touchgfx::Bitmap(BITMAP_TITLE_QR_ID));
    add(demoNameText);
}

MainViewBase::~MainViewBase()
{

}

void MainViewBase::setupScreen()
{
    numberAnimator0.initialize();
    numberAnimator1.initialize();
    qrCodeAnimator.initialize();
    imageAnimator.initialize();
    circleAnimator.initialize();
}

void MainViewBase::imageAnimatorImageIsOutCallbackHandler()
{
    //updateDemoName
    //When imageAnimator imageIsOut call virtual function
    //Call updateDemoName
    updateDemoName();
}

void MainViewBase::handleKeyEvent(uint8_t key)
{
    if(53 == key)
    {
        //hardwareSelectButtonClicked
        //When hardware button 53 clicked call virtual function
        //Call selectActionHandler
        selectActionHandler();
    
    }

    if(54 == key)
    {
        //hardwareNextButtonClicked
        //When hardware button 54 clicked call virtual function
        //Call nextActionHandler
        nextActionHandler();
    
    }
}
